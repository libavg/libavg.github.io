<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.libavg.de/site/projects/libavg/wiki/SponcAudio by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Jan 2025 18:11:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>SponcAudio - libavg</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="QVLF6cREvlOFkeaPHt4RhwQPDtrjsY3s5ITeOtTQ66Y="/>
<link rel='shortcut icon' href='../../../favicon89c0.ico?1332147363' />
<link href="../../../themes/libavg/stylesheets/applicationb1b8.css?1342212749" media="all" rel="stylesheet" type="text/css" />

<script src="../../../javascripts/prototype89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/effects89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/dragdrop89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/controls89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/application89c0.js?1332147363" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>



  
  

  <link href="../../../plugin_assets/redmine_wiki_extensions/stylesheets/wiki_extensions.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../../../plugin_assets/redmine_wiki_extensions/javascripts/wiki_extensions.js" type="text/javascript"></script>
  
    <script src="../../../plugin_assets/redmine_wiki_extensions/javascripts/tablesort.js" type="text/javascript"></script>
    <script type="text/javascript">
      //TableSort.arrowNone = " ";
      TableSort.arrowUp   = ' <img alt="Sort_asc" src="../../../images/sort_asc89c0.png?1332147363" />';
      TableSort.arrowDown = ' <img alt="Sort_desc" src="../../../images/sort_desc89c0.png?1332147363" />';
    </script>
  


<!-- page specific tags -->

  <link href="../../../stylesheets/scm89c0.css?1332147363" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Libavg controller-wiki action-show">
<div id="wrapper">
<div id="wrapper2">

<div id="header">
    

    

    <h1> <a href="../wiki.html"> <img src="../../../files/libavg_logo.png"/> </a> </h1>

    

    
</div>

<div class="" id="main">
    <div id="sidebar">
        
    <p><a href="WikiStart.html" class="wiki-page">Home</a><br /><a href="../../../../blog/" class="external">Blog</a><br /><a href="DownLoad.html" class="wiki-page">Download</a><br /><a href="FeatureList.html" class="wiki-page">Features</a><br /><a href="Multitouch.html" class="wiki-page">Multitouch</a><br /><a href="Showcase.html" class="wiki-page">Showcase</a></p>


	<a name="Documentation"></a>
<h2 >Documentation<a href="#Documentation" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li><a href="ReleaseInstall.html" class="wiki-page">Installation Guide</a></li>
		<li><a href="ProgrammersGuide.html" class="wiki-page">Programmer's Guide</a></li>
		<li><a href="Firebirds.html" class="wiki-page">Tutorial</a></li>
		<li><a href="Reference.html" class="wiki-page">Reference</a></li>
	</ul>


	<a name="Community"></a>
<h2 >Community<a href="#Community" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li><a href="BugReport.html" class="wiki-page">Reporting Bugs</a></li>
		<li><a href="Contributors.html" class="wiki-page">Contributors</a></li>
	</ul>


	<p><a href="Development.html" class="wiki-page">libavg Development</a></p>


	<p><a href="Imprint_and_Privacy_Policy.html" class="wiki-page">Imprint and Privacy Policy</a></p>
<p>
<br />
<a href="https://github.com/libavg/libavg/">Repository</a> <br />
<a href="https://github.com/libavg/libavg/issues?state=open">Issues</a> <br />
<a href="https://github.com/libavg/libavg/issues/new">New Issue</a><br />
</p>



        
    </div>

    <div id="content">
        
        





<div class="wiki wiki-page">
  <ul class="toc right"><li><a href="#Installation">Installation</a><ul><li><a href="#pkaudio">pkaudio</a></li><li><a href="#Checkout-and-install">Checkout and install</a></li><li><a href="#Supercollider">Supercollider</a></li><li><a href="#Download-and-install">Download and install</a></li><li><a href="#Run-scsynth">Run scsynth</a></li></ul>
</li><li><a href="#Running">Running</a><ul><li><a href="#Troubleshooting">Troubleshooting</a></li></ul>
</li><li><a href="#SC-SynthDefs">SC SynthDefs</a></li></ul>


	<p>Sponc, a multi-touch aware GPL game which can be retrieved on libavg's git repository <a href="https://github.com/libavg/mtc-sponc" class="external">mtc-sponc</a> , can now handle audio.</p>


	<p>Audio on Sponc relies on Supercollider 3 ( <a class="external" href="http://supercollider.sf.net/">http://supercollider.sf.net</a> ), using Pkaudio ( <a class="external" href="http://trac2.assembla.com/pkaudio">http://trac2.assembla.com/pkaudio</a> ) as a convenient gateway interface.</p>


	<a name="Installation"></a>
<h1 >Installation<a href="#Installation" class="wiki-anchor">&para;</a></h1>


	<p>Installation is straightforward but is not like a "click&#38;install package":</p>


	<a name="pkaudio"></a>
<h2 >pkaudio<a href="#pkaudio" class="wiki-anchor">&para;</a></h2>


	<p>Pkaudio is a bundle of interfaces that makes easy to get music-oriented environment working seamlessly. We are mainly interested in supercollider part.</p>


	<p><strong>Brief todo:</strong></p>


	<ul>
	<li>Checkout the svn version of pkaudio</li>
		<li>Install needed portions of the package</li>
	</ul>


	<a name="Checkout-and-install"></a>
<h2 >Checkout and install<a href="#Checkout-and-install" class="wiki-anchor">&para;</a></h2>


<pre><code class="shell syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span> $ svn co http://svn2.assembla.com/svn/pkaudio
<span class="line-numbers">2</span> $ cd pkaudio
<span class="line-numbers">3</span> $ sudo python setup_scosc.py install
</span></code></pre>

<blockquote>

	<p><img src="../../../plugin_assets/redmine_wiki_extensions/images/warning.png" alt="(!)"> <strong>Note:</strong> <img src="../../../plugin_assets/redmine_wiki_extensions/images/warning.png" alt="(!)"> <br />This guide has been tested against revision 3 of pkaudio</p>


</blockquote>

	<a name="Supercollider"></a>
<h2 >Supercollider<a href="#Supercollider" class="wiki-anchor">&para;</a></h2>


	<p><a href="SponcSupercollider.html" class="wiki-page">Supercollider</a> is one of the most advanced rt and non-rt synthesis framework. It's divided into two parts:</p>


	<ul>
	<li><em>sclang</em> or the interpreter (a 'friendly' smalltalkish interface)</li>
		<li><em>scsynth</em> or the audio worker (which speaks in OSC, Open Sound Control)</li>
	</ul>


	<p>Basically we need only the latter to be run (some glitches with linux due to sound library compatibility, very simple on OSX)</p>


	<p><strong>Brief todo:</strong></p>


	<ul>
	<li>Download (and eventually install) Supercollider</li>
		<li>Start the scsynth server by hand or prepare an automated script for that purpose</li>
	</ul>


	<a name="Download-and-install"></a>
<h2 >Download and install<a href="#Download-and-install" class="wiki-anchor">&para;</a></h2>


	<p>The full procedure for linux setup can be found here: Supercollider_On_Linux, additional help can be found here this hint: <a class="external" href="http://swiki.hfbk-hamburg.de:8888/MusicTechnology/847">http://swiki.hfbk-hamburg.de:8888/MusicTechnology/847</a></p>


	<p>MacOSX package is ready after a simple extraction from the installation DMG, which can be retrieved here:  <a class="external" href="http://sourceforge.net/project/showfiles.php?group_id=54622&amp;package_id=51508&amp;release_id=577995">http://sourceforge.net/project/showfiles.php?group_id=54622&#38;package_id=51508&#38;release_id=577995</a></p>


	<p>Sources can be retrieved here:  <a class="external" href="http://sourceforge.net/project/showfiles.php?group_id=54622&amp;package_id=246937&amp;release_id=577996">http://sourceforge.net/project/showfiles.php?group_id=54622&#38;package_id=246937&#38;release_id=577996</a></p>


	<a name="Run-scsynth"></a>
<h2 >Run scsynth<a href="#Run-scsynth" class="wiki-anchor">&para;</a></h2>


	<p>MacOSX: Just start supercollider.app and click on 'Boot' button on the 'localhost' server. If you want to to that by console, try this:</p>


<pre><code class="shell syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span> $ cd /path/to/SC3
<span class="line-numbers">2</span> $ ./scsynth -u 57110 -b 1026
</span></code></pre>

	<p>Linux: a good intro can be found here <a class="external" href="http://wiki.eeeuser.com/howto:installingsupercollider">http://wiki.eeeuser.com/howto:installingsupercollider</a></p>


	<p>If you experience problems with Jackd on Ubuntu, try to use portaudio (compiling sc from source)</p>


	<a name="Running"></a>
<h1 >Running<a href="#Running" class="wiki-anchor">&para;</a></h1>


	<p>Whenever you have completed those tasks, you can simply fire up the application: it will catch the availability of the framework and use it.</p>


	<a name="Troubleshooting"></a>
<h2 >Troubleshooting<a href="#Troubleshooting" class="wiki-anchor">&para;</a></h2>


<pre>
AUDIO: Audio subsystem not available
</pre>

	<p>This means that something is wrong with pkaudio, check if the installer placed scosc and scsynth on a PYTHON_PATH directory</p>


<pre>
AUDIO: Audio subsystem available but server is not responding. Disabling audio
</pre>

	<p>This time the audio subsystem cannot send commands to Supercollider which is expected to be found on localhost at port 57110/UDP. Double check if scsynth is running.</p>


	<a name="SC-SynthDefs"></a>
<h1 >SC SynthDefs<a href="#SC-SynthDefs" class="wiki-anchor">&para;</a></h1>


	<p>Whoever would take care of getting SynthDefs? running by hand or tweak them, here come the sources:</p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span> (
<span class="line-numbers"> 2</span> SynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">simpleAnalog</span><span class="delimiter">&quot;</span></span>, {
<span class="line-numbers"> 3</span>     arg gate = <span class="integer">0</span>, lfoFreq = <span class="integer">2</span>, lfoAmt = <span class="integer">0</span>, baseFreq = <span class="integer">139</span>, osc2Shift = <span class="integer">1</span>, aAttack = <span class="float">0.001</span>, aDecay = <span class="float">0.5</span>, aSustain = <span class="float">0.1</span>, aRelease = <span class="integer">2</span>, fAttack = <span class="float">0.001</span>, fDecay = <span class="float">0.5</span>, fSustain = <span class="float">0.1</span>, fRelease = <span class="float">0.1</span>, fEnvAmt = <span class="integer">0</span>, fCutoff = <span class="integer">300</span>, fReso = <span class="float">0.1</span>, fKTrack = <span class="integer">1</span>, xpos = <span class="integer">0</span>, ypos = <span class="integer">0</span>;
<span class="line-numbers"> 4</span>     var oscFreqAdd, vco1, vco2, aEnv, aAmp, oscStage, filterStage, ampStage, outStage, fEnv, fFreqEnv;
<span class="line-numbers"> 5</span>
<span class="line-numbers"> 6</span>     // LFO/FM
<span class="line-numbers"> 7</span>     oscFreqAdd = LFTri.kr(lfoFreq, <span class="integer">0</span>, lfoAmt);
<span class="line-numbers"> 8</span>
<span class="line-numbers"> 9</span>     // OSC STAGE
<span class="line-numbers"><strong>10</strong></span>     vco1 = Pulse.ar(baseFreq + oscFreqAdd, <span class="float">0.3</span>);
<span class="line-numbers">11</span>     vco2 = Pulse.ar(baseFreq + osc2Shift + oscFreqAdd, <span class="float">0.3</span>, <span class="float">0.8</span>);
<span class="line-numbers">12</span>     oscStage = vco1+vco2;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span>     // FILTER STAGE
<span class="line-numbers">15</span>     //fCutoff = MouseX.kr(<span class="integer">0</span>,<span class="integer">1000</span>);
<span class="line-numbers">16</span>     //fReso = MouseY.kr(<span class="float">0.01</span>, <span class="integer">1</span>);
<span class="line-numbers">17</span>     fEnv = Env.adsr(fAttack, fDecay, fSustain, fRelease);
<span class="line-numbers">18</span>     fFreqEnv = EnvGen.kr(fEnv, gate, fEnvAmt);
<span class="line-numbers">19</span>     filterStage = Resonz.ar(oscStage, baseFreq + fCutoff, fReso);
<span class="line-numbers"><strong>20</strong></span>
<span class="line-numbers">21</span>     // AMPLITUDE ENVELOPE
<span class="line-numbers">22</span>     aEnv = Env.adsr(aAttack, aDecay, aSustain, aRelease);
<span class="line-numbers">23</span>     aAmp = EnvGen.kr(aEnv, gate);
<span class="line-numbers">24</span>     ampStage = aAmp * filterStage;
<span class="line-numbers">25</span>
<span class="line-numbers">26</span>     // OUTPUT
<span class="line-numbers">27</span>     Out.ar(<span class="integer">0</span>, Pan4.ar(ampStage, xpos, ypos, <span class="integer">1</span> ));
<span class="line-numbers">28</span>  }).writeDefFile;
<span class="line-numbers">29</span>
<span class="line-numbers"><strong>30</strong></span> s.sendSynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">simpleAnalog</span><span class="delimiter">&quot;</span></span>);
<span class="line-numbers">31</span>
<span class="line-numbers">32</span> (
<span class="line-numbers">33</span> SynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">QuadraPlayer</span><span class="delimiter">&quot;</span></span>,{
<span class="line-numbers">34</span>     arg xpos=<span class="integer">0</span>,ypos=<span class="integer">0</span>, bufnum=<span class="integer">0</span>, loop=<span class="integer">0</span>;
<span class="line-numbers">35</span>     var playbuf;
<span class="line-numbers">36</span>     playbuf = PlayBuf.ar(<span class="integer">1</span>, bufnum, BufRateScale.kr(bufnum), <span class="integer">0</span>, <span class="integer">0</span>, loop);
<span class="line-numbers">37</span>     FreeSelfWhenDone.kr(playbuf);
<span class="line-numbers">38</span>     Out.ar(<span class="integer">0</span>,
<span class="line-numbers">39</span>                 Pan4.ar(playbuf, xpos, ypos, <span class="float">0.45</span> )
<span class="line-numbers"><strong>40</strong></span>        )
<span class="line-numbers">41</span> }).writeDefFile;
<span class="line-numbers">42</span>
<span class="line-numbers">43</span> s.sendSynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">QuadraPlayer</span><span class="delimiter">&quot;</span></span>);
<span class="line-numbers">44</span> )
<span class="line-numbers">45</span>
<span class="line-numbers">46</span> (
<span class="line-numbers">47</span> SynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">StereoPlayer</span><span class="delimiter">&quot;</span></span>,{
<span class="line-numbers">48</span>     arg xpos=<span class="integer">0</span>, bufnum=<span class="integer">0</span>;
<span class="line-numbers">49</span>     var playbuf;
<span class="line-numbers"><strong>50</strong></span>     playbuf = PlayBuf.ar(<span class="integer">1</span>,bufnum, BufRateScale.kr(bufnum));
<span class="line-numbers">51</span>     FreeSelfWhenDone.kr(playbuf);
<span class="line-numbers">52</span>
<span class="line-numbers">53</span>     Out.ar(<span class="integer">0</span>,
<span class="line-numbers">54</span>         Pan2.ar(playbuf, xpos, <span class="float">0.9</span> )
<span class="line-numbers">55</span>     )
<span class="line-numbers">56</span> }).writeDefFile;
<span class="line-numbers">57</span>
<span class="line-numbers">58</span> s.sendSynthDef(<span class="string"><span class="delimiter">&quot;</span><span class="content">StereoPlayer</span><span class="delimiter">&quot;</span></span>);
<span class="line-numbers">59</span> )
</span></code></pre>

	<p></p>
</div>














        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>


</div>
</div>
<script type="text/javascript">
//<![CDATA[
wiki_extension_create_table_header();
//]]>
</script>
</body>

<!-- Mirrored from www.libavg.de/site/projects/libavg/wiki/SponcAudio by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Jan 2025 18:11:23 GMT -->
</html>
