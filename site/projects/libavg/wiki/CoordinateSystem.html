<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.libavg.de/site/projects/libavg/wiki/CoordinateSystem by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Jan 2025 18:11:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>CoordinateSystem - libavg</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="QVLF6cREvlOFkeaPHt4RhwQPDtrjsY3s5ITeOtTQ66Y="/>
<link rel='shortcut icon' href='../../../favicon89c0.ico?1332147363' />
<link href="../../../themes/libavg/stylesheets/applicationb1b8.css?1342212749" media="all" rel="stylesheet" type="text/css" />

<script src="../../../javascripts/prototype89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/effects89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/dragdrop89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/controls89c0.js?1332147363" type="text/javascript"></script>
<script src="../../../javascripts/application89c0.js?1332147363" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>



  
  

  <link href="../../../plugin_assets/redmine_wiki_extensions/stylesheets/wiki_extensions.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../../../plugin_assets/redmine_wiki_extensions/javascripts/wiki_extensions.js" type="text/javascript"></script>
  
    <script src="../../../plugin_assets/redmine_wiki_extensions/javascripts/tablesort.js" type="text/javascript"></script>
    <script type="text/javascript">
      //TableSort.arrowNone = " ";
      TableSort.arrowUp   = ' <img alt="Sort_asc" src="../../../images/sort_asc89c0.png?1332147363" />';
      TableSort.arrowDown = ' <img alt="Sort_desc" src="../../../images/sort_desc89c0.png?1332147363" />';
    </script>
  


<!-- page specific tags -->

  <link href="../../../stylesheets/scm89c0.css?1332147363" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Libavg controller-wiki action-show">
<div id="wrapper">
<div id="wrapper2">

<div id="header">
    

    

    <h1> <a href="../wiki.html"> <img src="../../../files/libavg_logo.png"/> </a> </h1>

    

    
</div>

<div class="" id="main">
    <div id="sidebar">
        
    <p><a href="WikiStart.html" class="wiki-page">Home</a><br /><a href="../../../../blog/" class="external">Blog</a><br /><a href="DownLoad.html" class="wiki-page">Download</a><br /><a href="FeatureList.html" class="wiki-page">Features</a><br /><a href="Multitouch.html" class="wiki-page">Multitouch</a><br /><a href="Showcase.html" class="wiki-page">Showcase</a></p>


	<a name="Documentation"></a>
<h2 >Documentation<a href="#Documentation" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li><a href="ReleaseInstall.html" class="wiki-page">Installation Guide</a></li>
		<li><a href="ProgrammersGuide.html" class="wiki-page">Programmer's Guide</a></li>
		<li><a href="Firebirds.html" class="wiki-page">Tutorial</a></li>
		<li><a href="Reference.html" class="wiki-page">Reference</a></li>
	</ul>


	<a name="Community"></a>
<h2 >Community<a href="#Community" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li><a href="BugReport.html" class="wiki-page">Reporting Bugs</a></li>
		<li><a href="Contributors.html" class="wiki-page">Contributors</a></li>
	</ul>


	<p><a href="Development.html" class="wiki-page">libavg Development</a></p>


	<p><a href="Imprint_and_Privacy_Policy.html" class="wiki-page">Imprint and Privacy Policy</a></p>
<p>
<br />
<a href="https://github.com/libavg/libavg/">Repository</a> <br />
<a href="https://github.com/libavg/libavg/issues?state=open">Issues</a> <br />
<a href="https://github.com/libavg/libavg/issues/new">New Issue</a><br />
</p>



        
    </div>

    <div id="content">
        
        





<div class="wiki wiki-page">
  <a name="Coordinate-Systems"></a>
<h1 >Coordinate Systems<a href="#Coordinate-Systems" class="wiki-anchor">&para;</a></h1>


	<ul class="toc right"><li><a href="#Coordinate-Systems">Coordinate Systems</a></li><li><a href="#The-Global-Coordinate-System">The Global Coordinate System</a></li><li><a href="#Registration-Points">Registration Points</a></li><li><a href="#Rotation">Rotation</a></li><li><a href="#Local-Coordinate-Systems">Local Coordinate Systems</a></li><li><a href="#Vector-Nodes">Vector Nodes</a></li></ul>


	<p>To determine where to display nodes, libavg uses a hierarchy of coordinate systems. The placement of a node on the screen is specified relative to the div node above that element. Since div nodes can themselves be children of other div nodes, a hierarchy of relative coordinate systems results.</p>


	<a name="The-Global-Coordinate-System"></a>
<h1 >The Global Coordinate System<a href="#The-Global-Coordinate-System" class="wiki-anchor">&para;</a></h1>


	<p>Global coordinates have their origin in the upper left corner of the libavg window. Positive x values are to the right and positive y values down. This is typical of screen coordinate systems. Relative to the classic cartesian coordinate system, global coordinates in libavg have an inverted y axis.</p>


	<p>Coordinates are specified in pixels.</p>


	<p><div style="float:right"><img src="../../../files/CoordinateSystems/Global_coords.png" alt="" /></div></p>


	<a name="Registration-Points"></a>
<h1 >Registration Points<a href="#Registration-Points" class="wiki-anchor">&para;</a></h1>


	<p>With a few exceptions, the <em>Registration Point</em> of an element on the screen is it's upper left corner. This is the point that the pos attribute refers to.</p>


	<p><em>globalcoords.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span>avg.ImageNode(pos=(<span class="integer">40</span>,<span class="integer">30</span>), size=(<span class="integer">80</span>,<span class="integer">60</span>), 
<span class="line-numbers">2</span>        href=<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb24-64x64.png</span><span class="delimiter">&quot;</span></span>, parent=rootNode)
</span></code></pre>

	<p>The most notable exception is the words node. For words nodes with alignment="<code>left</code>", the registration point is close the upper left corner of the text rendered. Precisely, the vertical position corresponds to the height of the highest letter in the font used and the horizontal position may be off by a few pixels to make sure different letters <em>appear</em> to be at the same position. For words nodes with center and right alignments, the registration point is at the center or right of the node, respectively. The image to the right shows some left, center and right alignments and the corresponding registration points. Note that the left-aligned 'j' in the second line actually extends to the left of the registration point and the letters are positioned lower than expected to allow for glyphs with diacritics such as the german 'Ã„'.</p>


	<p><div style="float:right"><img src="../../../files/CoordinateSystems/Words_coords.png" alt="" /></div><br /><em>wordspos.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span>avg.WordsNode(pos=(<span class="integer">10</span>,<span class="integer">10</span>), width=<span class="integer">70</span>, 
<span class="line-numbers"> 2</span>        text=<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;i&gt;Left-justified paragraph&lt;/i&gt;</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers"> 3</span>        parent=rootNode)
<span class="line-numbers"> 4</span>avg.WordsNode(pos=(<span class="integer">150</span>,<span class="integer">10</span>), width=<span class="integer">70</span>, alignment=<span class="string"><span class="delimiter">&quot;</span><span class="content">right</span><span class="delimiter">&quot;</span></span>, 
<span class="line-numbers"> 5</span>        text=<span class="string"><span class="delimiter">&quot;</span><span class="content">Right-justified paragraph</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers"> 6</span>        parent=rootNode)
<span class="line-numbers"> 7</span>avg.WordsNode(pos=(<span class="integer">80</span>,<span class="integer">80</span>), width=<span class="integer">70</span>, alignment=<span class="string"><span class="delimiter">&quot;</span><span class="content">center</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers"> 8</span>        text=<span class="string"><span class="delimiter">&quot;</span><span class="content">Centered paragraph</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers"> 9</span>        parent=rootNode)
</span></code></pre>

	<a name="Rotation"></a>
<h1 >Rotation<a href="#Rotation" class="wiki-anchor">&para;</a></h1>


	<p>If a node has an angle attribute different from <code>zero</code>, it is rotated. By default, it is rotated around it's center. Rotation is specified in radians and runs clockwise. A non-default <code>pivot</code> attribute causes the node to be rotated around the point specified as pivot. Pivots are specified in coordinates relative to the registration point of the node.</p>


	<p><em>rotdefaultpivot.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span>avg.ImageNode(pos=(<span class="integer">40</span>,<span class="integer">30</span>), size=(<span class="integer">80</span>,<span class="integer">60</span>), href=<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb24-64x64.png</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers">2</span>        angle=<span class="float">1.570</span>, parent=rootNode)
</span></code></pre>

	<p><em>rotcustompivot.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span>avg.ImageNode(pos=(<span class="integer">80</span>,<span class="integer">30</span>), size=(<span class="integer">40</span>,<span class="integer">30</span>), href=<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb24-64x64.png</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers">2</span>        angle=<span class="float">1.570</span>, pivot=(<span class="integer">0</span>,<span class="integer">0</span>), parent=rootNode)
</span></code></pre>

	<p style="text-align:center;"><img src="../../../files/CoordinateSystems/Rotate_coords.png" alt="" /></p>


	<a name="Local-Coordinate-Systems"></a>
<h1 >Local Coordinate Systems<a href="#Local-Coordinate-Systems" class="wiki-anchor">&para;</a></h1>


	<p>All nodes inside a <code>DivNode</code> are positioned relative to that node's registration point and rotated according to it's angle and pivot attributes:</p>


	<p><em>localcoords.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span>divNode = avg.DivNode(pos=(<span class="integer">40</span>,<span class="integer">30</span>), parent=rootNode)
<span class="line-numbers">2</span>avg.ImageNode(pos=(<span class="integer">40</span>,<span class="integer">30</span>), size=(<span class="integer">80</span>,<span class="integer">60</span>), href=<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb24-64x64.png</span><span class="delimiter">&quot;</span></span>, 
<span class="line-numbers">3</span>        parent=divNode)
</span></code></pre>

	<p><em>localcoordsrot.py</em></p>


<pre><code class="python syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span>divNode = avg.DivNode(pos=(<span class="integer">120</span>,<span class="integer">30</span>), pivot=(<span class="integer">0</span>,<span class="integer">0</span>), angle=<span class="float">1.570</span>, 
<span class="line-numbers">2</span>        parent=rootNode)
<span class="line-numbers">3</span>avg.ImageNode(pos=(<span class="integer">40</span>,<span class="integer">30</span>), size=(<span class="integer">40</span>,<span class="integer">30</span>), href=<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb24-64x64.png</span><span class="delimiter">&quot;</span></span>,
<span class="line-numbers">4</span>        parent=divNode)
</span></code></pre>

	<p style="text-align:center;"><img src="../../../files/CoordinateSystems/Local_coords.png" alt="" /></p>


	<a name="Vector-Nodes"></a>
<h1 >Vector Nodes<a href="#Vector-Nodes" class="wiki-anchor">&para;</a></h1>


	<p>Currently, most vector nodes don't have an angle attribute. Coordinates are specified directly. The exception is <code>RectNode</code>, which has an angle, but no pivot attribute. (This will be changed so angle and pivot handling is consistent.)</p>


	<p></p>
</div>














        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>


</div>
</div>
<script type="text/javascript">
//<![CDATA[
wiki_extension_create_table_header();
//]]>
</script>
</body>

<!-- Mirrored from www.libavg.de/site/projects/libavg/wiki/CoordinateSystem by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Jan 2025 18:11:13 GMT -->
</html>
